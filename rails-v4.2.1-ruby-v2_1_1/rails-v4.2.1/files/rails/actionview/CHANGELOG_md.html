<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>CHANGELOG.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            CHANGELOG.md
        </h1>
        <ul class="files">
            <li>rails/actionview/CHANGELOG.md</li>
            <li>Last modified: 2015-05-14 13:42:19 -0400</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-Rails+4.2.1+%28March+19%2C+2014%29">Rails 4.2.1 (March 19, 2014)</h2>
<ul><li>
<p>Default translations that have a lower precidence than an html safe
default, but are not themselves safe, should not be marked as html_safe.</p>

<p><em>Justin Coyne</em></p>
</li><li>
<p>Added an explicit error message, in
<code>ActionView::PartialRenderer</code> for partial
<code>rendering</code>, when the value of option <code>as</code> has
invalid characters.</p>

<p><em>Angelo Capilleri</em></p>
</li></ul>

<h2 id="label-Rails+4.2.0+%28December+20%2C+2014%29">Rails 4.2.0 (December 20, 2014)</h2>
<ul><li>
<p>Local variable in a partial is now available even if a falsy value is
passed to <code>:object</code> when rendering a partial.</p>

<p>Fixes #17373.</p>

<p><em>Agis Anastasopoulos</em></p>
</li><li>
<p>Add support for <code>:enforce_utf8</code> option in <code>form_for</code>.</p>

<p>This is the same option that was added in 06388b0 to <code>form_tag</code>
and allows users to skip the insertion of the UTF8 enforcer tag in a form.</p>
<ul><li>
<p>claudiob *</p>
</li></ul>
</li><li>
<p>Fix a bug that &lt;%= foo(){ %&gt; and &lt;%= foo()do %&gt; in view
templates were not regarded as Ruby block calls.</p>
<ul><li>
<p>Akira Matsuda *</p>
</li></ul>
</li><li>
<p>Update <code>select_tag</code> to work correctly with
<code>:include_blank</code> option passing a string.</p>

<p>Fixes #16483.</p>

<p><em>Frank Groeneveld</em></p>
</li><li>
<p>Changed the meaning of <code>render &quot;foo/bar&quot;</code>.</p>

<p>Previously, calling <code>render &quot;foo/bar&quot;</code> in a controller
action is equivalent to <code>render file: &quot;foo/bar&quot;</code>. In
Rails 4.2, this has been changed to mean <code>render template:
&quot;foo/bar&quot;</code> instead. If you need to render a file, please
change your code to use the explicit form (<code>render file:
&quot;foo/bar&quot;</code>) instead.</p>

<p><em>Jeremy Jackson</em></p>
</li><li>
<p>Add support for ARIA attributes in tags.</p>

<p>Example:</p>

<pre><code>&lt;%= f.text_field :name, aria: { required: &quot;true&quot;, hidden: &quot;false&quot; } %&gt;</code></pre>

<p>now generates:</p>

<pre><code> &lt;input aria-hidden=&quot;false&quot; aria-required=&quot;true&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;text&quot;&gt;</code></pre>

<p><em>Paola Garcia Casadiego</em></p>
</li><li>
<p>Provide a <code>builder</code> object when using the <code>label</code>
form helper in block form.</p>

<p>The new <code>builder</code> object responds to <code>translation</code>,
allowing I18n fallback support when you want to customize how a particular
label is presented.</p>

<p><em>Alex Robbin</em></p>
</li><li>
<p>Add I18n support for input/textarea placeholder text.</p>

<p>Placeholder I18n follows the same convention as <code>label</code> I18n.</p>

<p><em>Alex Robbin</em></p>
</li><li>
<p>Fix that render layout: &#39;messages/layout&#39; should also be added to
the dependency tracker tree.</p>

<p><em>DHH</em></p>
</li><li>
<p>Add <code>PartialIteration</code> object used when rendering collections.</p>

<p>The iteration object is available as the local variable
<code>#{template_name}_iteration</code> when rendering partials with
collections.</p>

<p>It gives access to the <code>size</code> of the collection being iterated
over, the current <code>index</code> and two convenience methods
<code>first?</code> and <code>last?</code>.</p>

<p><em>Joel Junström</em>, <em>Lucas Uyezu</em></p>
</li><li>
<p>Return an absolute instead of relative path from an asset url in the case
of the <code>asset_host</code> proc returning nil.</p>

<p><em>Jolyon Pawlyn</em></p>
</li><li>
<p>Fix <code>html_escape_once</code> to properly handle hex escape sequences
(e.g. ᨫ).</p>

<p><em>John F. Douthat</em></p>
</li><li>
<p>Added String support for min and max properties for date field helpers.</p>

<p><em>Todd Bealmear</em></p>
</li><li>
<p>The <code>highlight</code> helper now accepts a block to be used instead of
the <code>highlighter</code> option.</p>

<p><em>Lucas Mazza</em></p>
</li><li>
<p>The <code>except</code> and <code>highlight</code> helpers now accept
regular expressions.</p>

<p><em>Jan Szumiec</em></p>
</li><li>
<p>Flatten the array parameter in <code>safe_join</code>, so it behaves
consistently with <code>Array#join</code>.</p>

<p><em>Paul Grayson</em></p>
</li><li>
<p>Honor <code>html_safe</code> on array elements in tag values, as we do for
plain string values.</p>

<p><em>Paul Grayson</em></p>
</li><li>
<p>Add <code>ActionView::Template::Handler.unregister_template_handler</code>.</p>

<p>It performs the opposite of
<code>ActionView::Template::Handler.register_template_handler</code>.</p>

<p><em>Zuhao Wan</em></p>
</li><li>
<p>Bring <code>cache_digest</code> rake tasks up-to-date with the latest API
changes.</p>

<p><em>Jiri Pospisil</em></p>
</li><li>
<p>Allow custom <code>:host</code> option to be passed to
<code>asset_url</code> helper that overwrites
<code>config.action_controller.asset_host</code> for particular asset.</p>

<p><em>Hubert Łępicki</em></p>
</li><li>
<p>Deprecate <code>AbstractController::Base.parent_prefixes</code>. Override
<code>AbstractController::Base.local_prefixes</code> when you want to
change where to find views.</p>

<p><em>Nick Sutterer</em></p>
</li><li>
<p>Take label values into account when doing I18n lookups for model
attributes.</p>

<p>The following:</p>

<pre><code># form.html.erb
&lt;%= form_for @post do |f| %&gt;
  &lt;%= f.label :type, value: &quot;long&quot; %&gt;
&lt;% end %&gt;

# en.yml
en:
  activerecord:
    attributes:
      post/long: &quot;Long-form Post&quot;</code></pre>

<p>Used to simply return "long", but now it will return "Long-form Post".</p>

<p><em>Joshua Cody</em></p>
</li><li>
<p>Change <code>asset_path</code> to use File.join to create proper paths:</p>

<p>Before:</p>

<pre><code>https://some.host.com//assets/some.js</code></pre>

<p>After:</p>

<pre><code>https://some.host.com/assets/some.js</code></pre>

<p><em>Peter Schröder</em></p>
</li><li>
<p>Change <code>favicon_link_tag</code> default mimetype from
<code>image/vnd.microsoft.icon</code> to <code>image/x-icon</code>.</p>

<p>Before:</p>

<pre><code># =&gt; favicon_link_tag &#39;myicon.ico&#39;
&lt;link href=&quot;/assets/myicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;
</code></pre>

<p>After:</p>

<pre><code># =&gt; favicon_link_tag &#39;myicon.ico&#39;
&lt;link href=&quot;/assets/myicon.ico&quot; rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; /&gt;
</code></pre>

<p><em>Geoffroy Lorieux</em></p>
</li><li>
<p>Remove wrapping div with inline styles for hidden form fields.</p>

<p>We are dropping HTML 4.01 and XHTML strict compliance since input tags
directly inside a form are valid HTML5, and the absence of inline styles
help in validating for Content Security Policy.</p>

<p><em>Joost Baaij</em></p>
</li><li>
<p><code>collection_check_boxes</code> respects <code>:index</code> option for
the hidden field name.</p>

<p>Fixes #14147.</p>

<p><em>Vasiliy Ermolovich</em></p>
</li><li>
<p><code>date_select</code> helper with option <code>with_css_classes:
true</code> does not overwrite other classes.</p>

<p><em>Izumi Wong-Horiuchi</em></p>
</li><li>
<p><code>number_to_percentage</code> does not crash with
<code>Float::NAN</code> or <code>Float::INFINITY</code> as input.</p>

<p>Fixes #14405.</p>

<p><em>Yves Senn</em></p>
</li><li>
<p>Add <code>include_hidden</code> option to
<code>collection_check_boxes</code> helper.</p>

<p><em>Vasiliy Ermolovich</em></p>
</li><li>
<p>Fixed a problem where the default options for the <code>button_tag</code>
helper are not applied correctly.</p>

<p>Fixes #14254.</p>

<p><em>Sergey Prikhodko</em></p>
</li><li>
<p>Take variants into account when calculating template digests in <a
href="../../../classes/ActionView/Digestor.html">ActionView::Digestor</a>.</p>

<p>The arguments to <a
href="../../../classes/ActionView/Digestor.html#method-i-digest">ActionView::Digestor#digest</a>
are now being passed as a hash to support variants and allow more
flexibility in the future. The support for regular (required) arguments is
deprecated and will be removed in Rails 5.0 or later.</p>

<p><em>Piotr Chmolowski, Łukasz Strzałkowski</em></p>
</li></ul>

<p>Please check <a
href="https://github.com/rails/rails/blob/4-1-stable/actionview/CHANGELOG.md">4-1-stable</a>
for previous changes.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
